<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css" />
    <title>Move the Ball</title>
    <meta name="description" content="Move the Ball across the field!">
    <meta name="keywords" content="Football" >
    <meta name="author" content="Suwaibat Suleiman">

    <meta property="og:title" content="Move the Ball">
    <meta property="og:description" content="Move the Ball across the field">

    
</head>
<body>
    <header>
        <div id="scoreboard">
            <p>Score:</p>
            <span id="score">0</span>
        </div>
    </header>
    <main>
        <div id="field">
          <img src="./assets/soccer-ball.svg" id="ball" >
          <div class="line"></div>
          <img src="./assets/goalpost.png" id="goalpost" >
        </div>
    </main>
    <script>
        let field = document.getElementById('field');
        let ball = document.getElementById('ball');
        let goalpost = document.getElementById('goalpost');
        let scoreEl = document.getElementById('score');
        let score = 0;

        field.addEventListener('click', (event) => {
            let fieldPositions = field.getBoundingClientRect();
            let positionX = event.clientX - fieldPositions.left;
            let positionY = event.clientY - fieldPositions.top;

            ball.style.left = `${positionX - ball.offsetWidth / 2}px`;
            ball.style.top = `${positionY - ball.offsetHeight / 2}px`;

            void ball.offsetHeight;


            requestAnimationFrame(checkGoal);

})


        function checkGoal() {
            let ballRect = ball.getBoundingClientRect();
            let goalRect = goalpost.getBoundingClientRect();

            let ballCenterX = ballRect.left + ballRect.width / 2;
            let ballCenterY = ballRect.top + ballRect.height / 2;

            let isInGoal = false;
            isInGoal =
                ballRect.left >= goalRect.left &&
                ballRect.right <= goalRect.right &&
                ballRect.top >= goalRect.top &&
                ballRect.bottom <= goalRect.bottom;


            if (isInGoal) {

                score += 10;
                scoreEl.textContent = score;
            }
        }
    </script>  
</body>
</html>